(function(e,t,r){"use strict";var o=t.documentElement;function n(t,o){var n;return function(){function l(){n=r;t.call(this)}if(!n){n=e.setTimeout(l,o)}}}function l(t,r){if(e.getComputedStyle){return e.getComputedStyle(t).getPropertyValue(r)}else if(t.currentStyle){return t.currentStyle[r]}}var i=[];function a(t,r,a){if(typeof r==="object"){a=r}else if(typeof r==="function"){if(a){a.scrollin=r}else{a={scrollin:r}}}var s=a.parent;if(!s){var u=t;var d;while((u=u.parentNode)&&u.nodeType===1){d=l(u,"overflow");if(d==="auto"||d==="scroll"){s=u;break}}s=s||e}if(s===e){a.parent=o}else{a.parent=s}if(a.scrollin||a.scrollout){a.elem=t;i.push(a);c();var v=a.delay||13;if(!s.sonarBound){if(s.addEventListener){s.addEventListener("scroll",n(c,v),false);s.addEventListener("resize",n(c,v),false)}else if(e.attachEvent){s.attachEvent("onscroll",n(c,v));s.attachEvent("onresize",n(c,v))}s.sonarBound=true}}return f(t,a.distance,a.visibility,a.parent)}var s;function f(e,n,l,i){if(!s){s=t.body}if(!l){l=0}if(n===r){n=0}var a=e;var f=0;var c=s.offsetHeight;var u=i.clientHeight||0;var d=i===o?s.scrollTop:i.scrollTop;var v=e.offsetHeight||0;if(!e.sonarElemTop||e.sonarBodyHeight!==c){while(a!==i&&a.offsetParent){f+=a.offsetTop;a=a.offsetParent}e.sonarElemTop=f;e.sonarBodyHeight=c}return e.sonarElemTop+v-l*v>d-n&&e.sonarElemTop+l*v<d+u+n}function c(){var e,t,r;for(e in i){if(i.hasOwnProperty(e)){t=i[e];if(t.scrollin||t.scrollout){r=f(t.elem,t.distance,t.visibility,t.parent);if(r!==t.detected){if(r){if(t.scrollin){t.scrollin.call(t,t.elem)}}else{if(t.scrollout){t.scrollout.call(t,t.elem)}}t.detected=r}}}}}a.poll=c;e.Sonar=a})(window,document);