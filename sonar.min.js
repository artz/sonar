(function(e,t,o){"use strict";var r=t.documentElement;function n(t,r){var n;return function(){function l(){n=o;t.call(this)}if(!n){n=e.setTimeout(l,r)}}}function l(t,o){if(e.getComputedStyle){return e.getComputedStyle(t).getPropertyValue(o)}else if(t.currentStyle){return t.currentStyle[o]}}var i=[];function a(t,o,a){if(typeof o==="object"){a=o}else if(typeof o==="function"){if(a){a.scrollin=o}else{a={scrollin:o}}}var s=a.parent;if(!s){var u=t;var d;while((u=u.parentNode)&&u.nodeType===1){d=l(u,"overflow");if(d==="auto"||d==="scroll"){s=u;break}}s=s||e}if(s===e){a.parent=r}else{a.parent=s}if(a.scrollin||a.scrollout){a.elem=t;i.push(a);c();var v=a.delay||13;if(!s.sonarBound){if(s.addEventListener){s.addEventListener("scroll",n(c,v),false);s.addEventListener("resize",n(c,v),false)}else if(e.attachEvent){s.attachEvent("onscroll",n(c,v));s.attachEvent("onresize",n(c,v))}s.sonarBound=true}}return f(t,a.distance,a.visibility,a.parent)}var s;function f(e,n,l,i){if(!s){s=t.body}if(!l){l=0}if(n===o){n=0}var a=e;var f=0;var c=s.offsetHeight;var u=i.clientHeight||0;var d=i===r?s.scrollTop||r.scrollTop:i.scrollTop;var v=e.offsetHeight||0;if(!e.sonarElemTop||e.sonarBodyHeight!==c){while(a!==i&&a.offsetParent){f+=a.offsetTop;a=a.offsetParent}e.sonarElemTop=f;e.sonarBodyHeight=c}return e.sonarElemTop+v-l*v>d-n&&e.sonarElemTop+l*v<d+u+n}function c(){var e,t,o;for(e in i){if(i.hasOwnProperty(e)){t=i[e];if(t.scrollin||t.scrollout){o=f(t.elem,t.distance,t.visibility,t.parent);if(o!==t.detected){if(o){if(t.scrollin){t.scrollin.call(t,t.elem)}}else{if(t.scrollout){t.scrollout.call(t,t.elem)}}t.detected=o}}}}}a.poll=c;e.Sonar=a})(window,document);