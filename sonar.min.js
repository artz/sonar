(function(e,t,r){"use strict";var o=t.documentElement;function n(t,o){var n;return function(){function l(){n=r;t.call(this)}if(!n){n=e.setTimeout(l,o)}}}function l(t,r){if(e.getComputedStyle){return e.getComputedStyle(t).getPropertyValue(r)}else if(t.currentStyle){return t.currentStyle[r]}}var i=[];function a(t,r,a){if(typeof r==="object"){a=r}else if(typeof r==="function"){if(a){a.scrollin=r}else{a={scrollin:r}}}var s=a.parent;if(!s){var u=t;var v;while((u=u.parentNode)&&u.nodeType===1){v=l(u,"overflow");if(v==="auto"||v==="scroll"){s=u;break}}s=s||e}if(s===e){a.parent=o}else{a.parent=s}if(a.scrollin||a.scrollout){a.elem=t;i.push(a);c();var d=a.delay||13;if(!s.sonarBound){if(s.addEventListener){s.addEventListener("scroll",n(c,d),false);s.addEventListener("resize",n(c,d),false)}else if(e.attachEvent){s.attachEvent("onscroll",n(c,d));s.attachEvent("onresize",n(c,d))}s.sonarBound=true}}return f(t,a.distance,a.visibility,a.parent)}var s;function f(e,n,l,i){if(!s){s=t.body}if(!l){l=0}if(n===r){n=0}var a=e;var c=0;var u=s.offsetHeight;var v=i.clientHeight||0;var d;if(i===o){d=s.scrollTop||o.scrollTop}else{d=i.scrollTop}var p=e.offsetHeight||0;if(!e.sonarElemTop||e.sonarBodyHeight!==u){while(a!==i&&a.offsetParent){c+=a.offsetTop;a=a.offsetParent}e.sonarElemTop=c;e.sonarBodyHeight=u}var y=true;if(i!==o){y=f(i,0,0,o)}var m=e.sonarElemTop+p-l*p>d-n&&e.sonarElemTop+l*p<d+v+n;return y&&m}function c(){var e,t,r;for(e in i){if(i.hasOwnProperty(e)){t=i[e];if(t.scrollin||t.scrollout){r=f(t.elem,t.distance,t.visibility,t.parent);if(r!==t.detected){if(r){if(t.scrollin){t.scrollin.call(t,t.elem)}}else{if(t.scrollout){t.scrollout.call(t,t.elem)}}t.detected=r}}}}}a.poll=c;e.Sonar=a})(window,document);